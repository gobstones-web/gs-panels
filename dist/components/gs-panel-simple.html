<link rel="import" href="gs-rezisable.html">
<link rel="import" href="../../../gs-common/dist/components/dom-inject.html">
<dom-module id="gs-panel-simple">
  <template>
    <style>
      :host {
        display: block;
        overflow: hidden;
        overflow-x: hidden;
        overflow-y: hidden;
        float: left;
        position: relative;
        box-sizing: border-box;
      }
      :host.child-of-vertical {
        width: 100%;
      }
      :host.child-of-vertical.not-last {
        padding-bottom: 7px;
      }
      :host.child-of-horizontal.not-last {
        padding-right: 7px;
      }

    </style>

    <template is="dom-inject" element="{{concretElement}}"></template>
    <template is="dom-if" if="{{notLast}}">
      <gs-panel-resize class$="{{parentOrientation}}"></gs-panel-resize>
    </template>

  </template>
  <script>
    Polymer({
      is: 'gs-panel-simple',
      properties: {
        concretElement: {
          type: Object
        },
        index: {
          type: Number
        }
      },
      behaviors: [GS.Rezisable],
      ready: function() {
        return this.container = this.$.container;
      },
      attached: function() {
        this.__propagate_height_change();
        return console.log(this.identifier + ' [simple] attached');
      },
      detached: function() {
        return console.log(this.identifier + ' [simple] detached');
      },
      __propagate_height_change: function() {
        if (this.concretElement) {
          return this.concretElement.style.height = this.fixedHeight + 'px';
        } else {

        }
      },
      _panel_width_change: function() {
        return this.__set_width_percent(this.panelWidth);
      }
    });

  </script>
</dom-module>