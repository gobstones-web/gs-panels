<dom-module id="gs-panels-container">
  <template>
    <style>
      :host {
        display: table;
      }
      :host ::content > gs-panel {
        float: left;
        border: #000000 solid 3px;
        margin: 2px;
      }

      /*# sourceMappingURL=style.css.map */

    </style>

    <content></content>

  </template>
  <script>
    Polymer({
      is: 'gs-panels-container',
      properties: {
        height: {
          type: String,
          value: "600px"
        },
        orientation: {
          type: String,
          value: "horizontal"
        }
      },
      listeners: {
        'closePanel': '_checkChilds'
      },
      attached: function() {
        if (this.orientation === "horizontal") {
          this.setComponent(this, this.getInner(this, "width"), "width");
          this.style.height = this.height;
        } else {
          if (this.orientation === "vertical") {
            this.setComponent(this, this.getInner(this, "height"), "height");
            this.style.width = this.width;
          }
        }
        return this._fixLayout();
      },
      _fixLayout: function() {
        var child, firstChildrens, _i, _j, _len, _len1, _results, _results1;
        firstChildrens = Polymer.dom(this).children;
        if (this.orientation === "horizontal") {
          _results = [];
          for (_i = 0, _len = firstChildrens.length; _i < _len; _i++) {
            child = firstChildrens[_i];
            _results.push(child.style.height = "100%");
          }
          return _results;
        } else {
          if (this.orientation === "vertical") {
            _results1 = [];
            for (_j = 0, _len1 = firstChildrens.length; _j < _len1; _j++) {
              child = firstChildrens[_j];
              _results1.push(child.style.width = "100%");
            }
            return _results1;
          }
        }
      },
      _checkChilds: function(eventData) {
        var child, children, firstChildrens, removedWidth, widthToAddForEachChild, _i, _len, _results;
        children = Polymer.dom(this).children;
        if (children.length === 0 || children === []) {
          Polymer.dom(Polymer.dom(this).parentNode).removeChild(this);
          return this.fire('closePanel', {});
        } else {
          firstChildrens = Polymer.dom(this).children;
          removedWidth = eventData.detail.getBoundingClientRect().width;
          widthToAddForEachChild = removedWidth / firstChildrens.length;
          _results = [];
          for (_i = 0, _len = firstChildrens.length; _i < _len; _i++) {
            child = firstChildrens[_i];
            _results.push(this.incrementComponent(child, widthToAddForEachChild, "width"));
          }
          return _results;
        }
      },
      getInner: function(htmlElement, component) {
        var style;
        style = window.getComputedStyle(htmlElement, null);
        return parseFloat(style.getPropertyValue(component));
      },
      setComponent: function(htmlElement, newWidth, component) {
        return htmlElement.style[component] = newWidth + "px";
      },
      incrementComponent: function(htmlElement, toIncrement, component) {
        var newDimension;
        newDimension = this.getInner(htmlElement, component) + toIncrement;
        return this.setComponent(htmlElement, newDimension, component);
      }
    });

  </script>
</dom-module>