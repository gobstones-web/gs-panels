<dom-module id="gs-panels-container">
  <template>
    <style>
      :host {
        display: table;
      }
      :host ::content > gs-panel {
        float: left;
        border: #000000 solid 3px;
        margin: 2px;
      }

      /*# sourceMappingURL=style.css.map */

    </style>

    <content></content>

  </template>
  <script>
    Polymer({
      is: 'gs-panels-container',
      properties: {
        orientation: {
          type: String,
          value: "Vertical"
        }
      },
      listeners: {
        'closePanel': '_checkChilds'
      },
      _checkChilds: function(e) {
        var child, children, firstChildrens, removedWidth, widthToAddForEachChild, _i, _len, _results;
        children = Polymer.dom(this).children;
        if (children.length === 0 || children === []) {
          Polymer.dom(Polymer.dom(this).parentNode).removeChild(this);
          return this.fire('closePanel', {});
        } else {
          firstChildrens = Polymer.dom(this).children;
          removedWidth = e.detail.getBoundingClientRect().width;
          console.log(removedWidth);
          widthToAddForEachChild = removedWidth / firstChildrens.length;
          console.log(widthToAddForEachChild);
          _results = [];
          for (_i = 0, _len = firstChildrens.length; _i < _len; _i++) {
            child = firstChildrens[_i];
            _results.push(this.addWidth(child, widthToAddForEachChild));
          }
          return _results;
        }
      },
      calculateWidth: function() {
        var child, firstChildrens;
        firstChildrens = Polymer.dom(this).children;
        return ((function() {
          var _i, _len, _results;
          _results = [];
          for (_i = 0, _len = firstChildrens.length; _i < _len; _i++) {
            child = firstChildrens[_i];
            _results.push(child.offsetWidth);
          }
          return _results;
        })()).reduce((function(a, b) {
          return a + b;
        }), 0);
      },
      attached: function() {
        return this.setWidth(this, this.getInnerWidth(this));
      },
      getInnerWidth: function(htmlElement) {
        var style;
        style = window.getComputedStyle(htmlElement, null);
        return parseFloat(style.getPropertyValue("width"));
      },
      setWidth: function(htmlElement, newWidth) {
        return htmlElement.style.width = newWidth + "px";
      },
      addWidth: function(htmlElement, widthToAdd) {
        var newWidth;
        newWidth = this.getInnerWidth(htmlElement) + widthToAdd;
        return this.setWidth(htmlElement, newWidth);
      }
    });

  </script>
</dom-module>